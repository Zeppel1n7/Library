# Generated by Django 5.0.6 on 2024-06-19 13:44

import django.db.models.deletion
import library.models.science_work
import library.models.textbook
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ScienceWork',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(db_index=True, max_length=256, verbose_name='Название')),
                ('annotation', models.TextField(verbose_name='Аннотация (описание)')),
                ('is_secret', models.BooleanField(verbose_name='Для служебного пользования')),
                ('slug', models.SlugField(max_length=128, unique=True, verbose_name='Слаг работы')),
                ('publication_date', models.DateField(verbose_name='Дата публикации работы')),
                ('add_date', models.DateField(auto_now_add=True, verbose_name='Дата добавления')),
                ('conclusion_file', models.FileField(upload_to=library.models.science_work.parent_save_path, verbose_name='Файл заключения')),
                ('file', models.FileField(upload_to=library.models.science_work.parent_save_path, verbose_name='Файл работы')),
            ],
            options={
                'verbose_name': 'научная работа',
                'verbose_name_plural': 'научные работы',
                'db_table': 'science_work',
                'get_latest_by': 'add_date',
            },
        ),
        migrations.CreateModel(
            name='ScienceBase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Научная база работы (ВАК, РИНЦ и т.д.)', max_length=128, verbose_name='Научная база')),
            ],
            options={
                'verbose_name': 'научная база',
                'verbose_name_plural': 'научные базы',
                'db_table': 'science_base',
            },
        ),
        migrations.CreateModel(
            name='Abstract',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('udc', models.CharField(db_index=True, max_length=64, verbose_name='УДК')),
            ],
            options={
                'verbose_name': 'автореферат',
                'verbose_name_plural': 'авторефераты',
                'db_table': 'abstract',
            },
            bases=('library.sciencework', models.Model),
        ),
        migrations.CreateModel(
            name='Dissertation',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('udc', models.CharField(db_index=True, max_length=64, verbose_name='УДК')),
            ],
            options={
                'verbose_name': 'диссертация',
                'verbose_name_plural': 'диссертации',
                'db_table': 'dissertation',
            },
            bases=('library.sciencework', models.Model),
        ),
        migrations.CreateModel(
            name='InnovationProposal',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('doc_num', models.CharField(db_index=True, max_length=64, verbose_name='Номер свидетельства')),
                ('implementation_act', models.FileField(blank=True, null=True, upload_to=library.models.science_work.child_files_save_path, verbose_name='Файл акта реализации')),
                ('certificate', models.FileField(upload_to=library.models.science_work.child_files_save_path, verbose_name='Удостоверение на рацпредложение')),
            ],
            options={
                'verbose_name': 'рацпредложение',
                'verbose_name_plural': 'рацпредложения',
                'db_table': 'innovation_proposal',
            },
            bases=('library.sciencework', models.Model),
        ),
        migrations.CreateModel(
            name='Monograph',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('udc', models.CharField(db_index=True, max_length=64, verbose_name='УДК')),
                ('isbn', models.CharField(blank=True, db_index=True, max_length=16, null=True, verbose_name='Международный стандартный книжный номер (ISBN)')),
            ],
            options={
                'verbose_name': 'монография',
                'verbose_name_plural': 'монографии',
                'db_table': 'monograph',
            },
            bases=('library.sciencework', models.Model),
        ),
        migrations.CreateModel(
            name='Patent',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('doc_num', models.CharField(db_index=True, max_length=64, verbose_name='Номер свидетельства')),
                ('implementation_act', models.FileField(blank=True, null=True, upload_to=library.models.science_work.child_files_save_path, verbose_name='Файл акта реализации')),
                ('patent_type', models.CharField(choices=[('UM', 'Полезная модель'), ('INV', 'Изобретение'), ('IM', 'Промышленный образец')], default='UM', max_length=8, verbose_name='Тип патента')),
                ('patent_owner', models.CharField(max_length=256, verbose_name='Патентообладатель')),
            ],
            options={
                'verbose_name': 'патент',
                'verbose_name_plural': 'патенты',
                'db_table': 'patent',
            },
            bases=('library.sciencework', models.Model),
        ),
        migrations.CreateModel(
            name='Program',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('doc_num', models.CharField(db_index=True, max_length=64, verbose_name='Номер свидетельства')),
                ('implementation_act', models.FileField(blank=True, null=True, upload_to=library.models.science_work.child_files_save_path, verbose_name='Файл акта реализации')),
            ],
            options={
                'verbose_name': 'программа для ЭВМ',
                'verbose_name_plural': 'программы для ЭВМ',
                'db_table': 'program',
            },
            bases=('library.sciencework', models.Model),
        ),
        migrations.CreateModel(
            name='Textbook',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('review', models.FileField(blank=True, null=True, upload_to=library.models.science_work.child_files_save_path, verbose_name='Файл рецензии')),
                ('udc', models.CharField(db_index=True, max_length=64, verbose_name='УДК')),
                ('isbn', models.CharField(blank=True, db_index=True, max_length=16, null=True, verbose_name='Международный стандартный книжный номер (ISBN)')),
                ('STC_certificate', models.FileField(blank=True, null=True, upload_to=library.models.textbook.stc_certificate_file_path, verbose_name='файл выписки из НТС')),
            ],
            options={
                'verbose_name': 'учебное пособие',
                'verbose_name_plural': 'учебные пособия',
                'db_table': 'textbook',
            },
            bases=('library.sciencework', models.Model),
        ),
        migrations.CreateModel(
            name='Author',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('first_name', models.CharField(max_length=64, verbose_name='Имя')),
                ('last_name', models.CharField(max_length=64, verbose_name='Фамилия')),
                ('patronymic', models.CharField(blank=True, max_length=64, null=True, verbose_name='Отчество')),
                ('division', models.CharField(max_length=64, verbose_name='Подразделение')),
                ('rank', models.CharField(max_length=64, verbose_name='Звание')),
                ('science_works', models.ManyToManyField(blank=True, db_table='authors_works', related_name='authors', to='library.sciencework', verbose_name='Научные работы')),
                ('user', models.OneToOneField(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='author', to=settings.AUTH_USER_MODEL, verbose_name='Пользователь')),
            ],
            options={
                'verbose_name': 'автор',
                'verbose_name_plural': 'авторы',
                'db_table': 'author',
            },
        ),
        migrations.CreateModel(
            name='Article',
            fields=[
                ('sciencework_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='library.sciencework')),
                ('review', models.FileField(blank=True, null=True, upload_to=library.models.science_work.child_files_save_path, verbose_name='Файл рецензии')),
                ('udc', models.CharField(db_index=True, max_length=64, verbose_name='УДК')),
                ('keywords', models.CharField(blank=True, db_index=True, max_length=256, null=True, verbose_name='Ключевые слова')),
                ('journal', models.CharField(max_length=256, verbose_name='Название сборника')),
                ('science_base', models.ForeignKey(on_delete=django.db.models.deletion.RESTRICT, related_name='science_base', to='library.sciencebase', verbose_name='Научная база работы')),
            ],
            options={
                'verbose_name': 'научная статья',
                'verbose_name_plural': 'научные статьи',
                'db_table': 'article',
            },
            bases=('library.sciencework', models.Model),
        ),
    ]
